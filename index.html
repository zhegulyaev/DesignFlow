<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>DesignFlow ‚Äî –¢—Ä–µ–∫–µ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤</title>

<link rel="icon" type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Crect width='24' height='24' rx='6' ry='6' fill='%230d1117'/%3E%3Cpath d='M11 2 L5 14 H10 L9 22 L19 8 H13 L14 2 Z' fill='%23facc15'/%3E%3C/svg%3E">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ru.js"></script>
  <link rel="stylesheet" href="style.css">

</head>
<body>

<div class="toast" id="toast">
    <div class="toast-message" id="toast-message"></div>
    <button class="toast-action" id="toast-action" style="display:none"></button>
    <button class="toast-close" onclick="hideToast()">√ó</button>
</div>

<svg style="display: none;">
    <symbol id="icon-sun" viewBox="0 0 24 24"><path fill="currentColor" d="M12 4.5a1 1 0 0 1-1-1V2a1 1 0 1 1 2 0v1.5a1 1 0 0 1-1 1Zm0 17a1 1 0 0 1-1 1V24a1 1 0 1 1 2 0v-1.5a1 1 0 0 1-1-1Zm7.424-14.924a1 1 0 0 1 0-1.414l1.06-1.06a1 1 0 1 1 1.415 1.414l-1.06 1.06a1 1 0 0 1-1.415 0ZM2.1 20.4a1 1 0 0 1 0-1.415l1.06-1.06a1 1 0 1 1 1.414 1.414l-1.06 1.061A1 1 0 0 1 2.1 20.4Zm19.8-1.414a1 1 0 0 1-1.415 0l-1.06-1.06a1 1 0 1 1 1.414-1.415l1.06 1.06a1 1 0 0 1 0 1.415ZM2.1 3.6a1 1 0 0 1 1.414 0l1.06 1.06A1 1 0 0 1 3.16 6.074L2.1 5.014A1 1 0 0 1 2.1 3.6ZM4.5 12a1 1 0 0 1-1 1H2a1 1 0 1 1 0-2h1.5a1 1 0 0 1 1 1Zm18 0a1 1 0 0 1-1 1H20a1 1 0 1 1 0-2h1.5a1 1 0 0 1 1 1Zm-7 0a3.5 3.5 0 1 1-7 0a3.5 3.5 0 0 1 7 0Z"/></symbol>
    <symbol id="icon-moon" viewBox="0 0 24 24"><path fill="currentColor" d="M21.74 15.34a1 1 0 0 0-1.11-.27A7.5 7.5 0 0 1 9.06 4.5a1 1 0 0 0-.76-1.2a9 9 0 1 0 13.44 12.36Z"/></symbol>
    <symbol id="icon-pen" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="m5 15.5 9.9-9.9a1.8 1.8 0 0 1 2.55 0l1.95 1.95a1.8 1.8 0 0 1 0 2.55L9.5 20H4v-5.5Z"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6" d="M14 6l4 4"/></symbol>
    <symbol id="icon-check" viewBox="0 0 20 20"><path fill="currentColor" d="m16.707 6.293-7.25 7.25a1 1 0 0 1-1.414 0l-4-4a1 1 0 1 1 1.414-1.414L8.5 11.672l6.543-6.543a1 1 0 0 1 1.414 1.164a.99.99 0 0 1-.25.293Z"/></symbol>
    <symbol id="icon-settings" viewBox="0 0 24 24">
      <path fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" d="M4 7.5h10.5M4 12h12M4 16.5h10.5"/>
      <circle cx="16.5" cy="7.5" r="1.8" fill="none" stroke="currentColor" stroke-width="1.7"/>
      <circle cx="9" cy="12" r="1.8" fill="none" stroke="currentColor" stroke-width="1.7"/>
      <circle cx="15" cy="16.5" r="1.8" fill="none" stroke="currentColor" stroke-width="1.7"/>
    </symbol>
    <symbol id="icon-grid" viewBox="0 0 24 24"><path fill="currentColor" d="M5 4a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1Zm9 0a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1Zm-9 9a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1Zm9 0a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1Z"/></symbol>
    <symbol id="icon-grip" viewBox="0 0 24 24"><path fill="currentColor" d="M10 5a1 1 0 0 1-1 1H7a1 1 0 1 1 0-2h2a1 1 0 0 1 1 1Zm7-1h-2a1 1 0 1 0 0 2h2a1 1 0 0 0 0-2Zm0 6h-2a1 1 0 1 0 0 2h2a1 1 0 0 0 0-2Zm0 6h-2a1 1 0 1 0 0 2h2a1 1 0 0 0 0-2Zm-8-4H7a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2Zm0 6H7a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2Zm0-12H7a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2Z"/></symbol>
    <symbol id="icon-close" viewBox="0 0 24 24"><path fill="currentColor" d="M6.34 4.93a1 1 0 0 0-1.41 1.41L10.59 12l-5.66 5.66a1 1 0 1 0 1.41 1.41L12 13.41l5.66 5.66a1 1 0 0 0 1.41-1.41L13.41 12l5.66-5.66a1 1 0 1 0-1.41-1.41L12 10.59Z"/></symbol>
    <symbol id="icon-hide" viewBox="0 0 24 24"><path fill="currentColor" d="M4.52 3.1a1 1 0 0 0-1.42 1.41l16 16a1 1 0 0 0 1.42-1.41l-2.03-2.03A11.3 11.3 0 0 0 21.89 12a11.29 11.29 0 0 0-3.67-4.91A9.3 9.3 0 0 0 12 5A9.4 9.4 0 0 0 8.6 5.6Zm5.58 5.58l2.11 2.1a2 2 0 0 0-2.1-2.1Zm-5.42-1.5A9.27 9.27 0 0 0 2.11 12a11.29 11.29 0 0 0 3.67 4.91A9.3 9.3 0 0 0 12 19a9.4 9.4 0 0 0 1.61-.14l-2.44-2.45A4 4 0 0 1 7.6 9.18Z"/></symbol>
    <symbol id="icon-active" viewBox="0 0 16 16"><path fill="currentColor" d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM3 8a5 5 0 0 1 10 0 5 5 0 0 1-10 0Z"/></symbol>
    <symbol id="icon-all" viewBox="0 0 16 16"><path fill="currentColor" d="M2.5 2.5A.5.5 0 0 1 3 2h4.5a.5.5 0 0 1 .5.5V7a.5.5 0 0 1-.5.5H3A.5.5 0 0 1 2.5 7Zm6 0A.5.5 0 0 1 9 2h4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-.5.5H9a.5.5 0 0 1-.5-.5Zm-6 6A.5.5 0 0 1 3 8h4.5a.5.5 0 0 1 .5.5V13a.5.5 0 0 1-.5.5H3a.5.5 0 0 1-.5-.5Zm8 0A.5.5 0 0 1 11 8h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5Z"/></symbol>
    <symbol id="icon-waiting" viewBox="0 0 16 16"><path fill="currentColor" d="M8 1.5a6.5 6.5 0 1 0 0 13a6.5 6.5 0 0 0 0-13Zm0 1.5a5 5 0 1 1 0 10a5 5 0 0 1 0-10Zm-.5 1.25c0-.276.224-.5.5-.5s.5.224.5.5v2.6l2 1.2a.5.5 0 1 1-.5.866l-2.25-1.35A.5.5 0 0 1 7.5 7V4.25Z"/></symbol>
    <symbol id="icon-potential" viewBox="0 0 16 16"><path fill="currentColor" d="M3 1.5A.5.5 0 0 1 3.5 1h7a.5.5 0 0 1 .4.8L9.6 4l1.3 2.2a.5.5 0 0 1-.43.8H5.5V14a.5.5 0 0 1-1 0z"/></symbol>
    <symbol id="icon-paused" viewBox="0 0 16 16"><path fill="currentColor" d="M5 2.5a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5Zm6 0a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-1 0V3a.5.5 0 0 1 .5-.5Z"/></symbol>
    <symbol id="icon-archive" viewBox="0 0 16 16"><path fill="currentColor" d="M13 1.75a.75.75 0 0 0-.75-.75H3.75a.75.75 0 0 0-.75.75v12.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75Zm-1.5 8.75a.5.5 0 0 1-1 0V6.707L6.464 10.464a.5.5 0 0 1-.708-.708L10.793 6H7.5a.5.5 0 0 1 0-1h4.5a.5.5 0 0 1 .5.5v4.5Z"/></symbol>
    <symbol id="icon-trash" viewBox="0 0 24 24">
      <path fill="currentColor" d="M9 3.5 8 5H5.5a1 1 0 0 0 0 2h13a1 1 0 0 0 0-2H16l-1-1.5a1 1 0 0 0-.83-.45H9.83a1 1 0 0 0-.83.45Zm-2 5.5h10l-.6 9.01a1 1 0 0 1-1 .94H7.6a1 1 0 0 1-1-.94L6 9Z"/>
      <path fill="currentColor" d="M10 11a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0v-4a1 1 0 0 0-1-1Zm4 0a1 1 0 0 0-1 1v4a1 1 0 1 0 2 0v-4a1 1 0 0 0-1-1Z"/>
    </symbol>
    <symbol id="icon-duplicate" viewBox="0 0 16 16"><path fill="currentColor" d="M2.25 1.75a.75.75 0 0 1 .75-.75h7.25a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V2.5h-6.5v8h2a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1-.75-.75Zm4.5 4a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 .75.75v8a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1-.75-.75v-8Z"/></symbol>
    <symbol id="icon-link" viewBox="0 0 24 24"><path fill="currentColor" d="M13.06 3.94a5.5 5.5 0 0 1 7.78 7.78l-2.12 2.12a5.5 5.5 0 0 1-7.78 0a1 1 0 0 1 1.42-1.42a3.5 3.5 0 0 0 4.94 0l2.12-2.12a3.5 3.5 0 0 0-4.94-4.94l-.88.88a1 1 0 1 1-1.42-1.42Zm-6.72 6.72a5.5 5.5 0 0 1 7.78 0a1 1 0 1 1-1.42 1.42a3.5 3.5 0 0 0-4.94 0l-2.12 2.12a3.5 3.5 0 0 0 4.94 4.94l.88-.88a1 1 0 0 1 1.42 1.42l-.88.88a5.5 5.5 0 0 1-7.78-7.78Z"/></symbol>
    <symbol id="icon-external" viewBox="0 0 24 24"><path fill="currentColor" d="M14 4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V6.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L17.586 5H15a1 1 0 0 1-1-1Z"/><path fill="currentColor" d="M5 6a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H7v10h10v-4a1 1 0 1 1 2 0v5a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1Z"/></symbol>
    <symbol id="icon-calendar-off" viewBox="0 0 24 24"><path fill="currentColor" d="M7 2a1 1 0 0 0-1 1v1H5a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3h-1V3a1 1 0 1 0-2 0v1H8V3a1 1 0 0 0-1-1Zm12 6v10a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V8h14Z"/><path fill="currentColor" d="M9.7 10.3a1 1 0 0 0-1.4 1.4L10.6 14l-2.3 2.3a1 1 0 0 0 1.4 1.4L12 15.4l2.3 2.3a1 1 0 0 0 1.4-1.4L13.4 14l2.3-2.3a1 1 0 1 0-1.4-1.4L12 12.6Z"/></symbol>
    <symbol id="icon-calendar" viewBox="0 0 16 16"><path fill="currentColor" d="M3 2.75A.75.75 0 0 1 3.75 2h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 2.75ZM12.25 2a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-1.5 0v-.5c0-.414.336-.75.75-.75ZM2 5.5a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 5.5Zm12.5 2.25v7.25c0 .414-.336.75-.75.75H2.25a.75.75 0 0 1-.75-.75V7.75c0-.414.336-.75.75-.75h11.5c.414 0 .75.336.75.75Z"/></symbol>
    <symbol id="icon-clock" viewBox="0 0 16 16"><path fill="currentColor" d="M8 1.5a6.5 6.5 0 1 0 0 13a6.5 6.5 0 0 0 0-13Zm0 1.5a5 5 0 1 1 0 10a5 5 0 0 1 0-10Zm-.5 1.25c0-.276.224-.5.5-.5s.5.224.5.5v2.6l2 1.2a.5.5 0 1 1-.5.866l-2.25-1.35A.5.5 0 0 1 7.5 7V4.25Z"/></symbol>
    <symbol id="icon-undo" viewBox="0 0 20 20"><path fill="currentColor" d="M9.5 3a7.5 7.5 0 1 1-5.303 12.803a.75.75 0 0 1 1.06-1.061A6 6 0 1 0 7 5.233V7.5a.75.75 0 0 1-1.28.53l-3-3a.75.75 0 0 1 0-1.06l3-3A.75.75 0 0 1 7 1.97V4.2A7.47 7.47 0 0 1 9.5 3Z"/></symbol>
    <symbol id="icon-arrow-right" viewBox="0 0 24 24"><path fill="currentColor" d="M5 12a1 1 0 0 1 1-1h9.586l-3.293-3.293a1 1 0 1 1 1.414-1.414l5 5a1 1 0 0 1 0 1.414l-5 5a1 1 0 0 1-1.414-1.414L15.586 13H6a1 1 0 0 1-1-1Z"/></symbol>
    <symbol id="icon-upload" viewBox="0 0 24 24"><path fill="currentColor" d="M12 3a1 1 0 0 1 .707.293l4 4a1 1 0 0 1-1.414 1.414L13 6.414V16a1 1 0 1 1-2 0V6.414L8.707 8.707A1 1 0 0 1 7.293 7.293l4-4A1 1 0 0 1 12 3Z"/><path fill="currentColor" d="M5 15a1 1 0 0 1 1 1v3h12v-3a1 1 0 1 1 2 0v3a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-3a1 1 0 0 1 1-1Z"/></symbol>
    <symbol id="icon-table" viewBox="0 0 24 24"><path fill="currentColor" d="M5 4h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm0 2v3h14V6H5Zm0 5v7h14v-7H5Zm4 2h2v3H9v-3Zm6 0h2v3h-2v-3Z"/></symbol>
    <symbol id="icon-download" viewBox="0 0 24 24"><path fill="currentColor" d="M12 17a1 1 0 0 1-.707-.293l-4-4a1 1 0 0 1 1.414-1.414L11 13.586V4a1 1 0 1 1 2 0v9.586l2.293-2.293a1 1 0 0 1 1.414 1.414l-4 4A1 1 0 0 1 12 17Z"/><path fill="currentColor" d="M5 18a1 1 0 0 1 1 1v2h12v-2a1 1 0 1 1 2 0v2a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2a1 1 0 0 1 1-1Z"/></symbol>
    <symbol id="icon-alert" viewBox="0 0 24 24"><path fill="currentColor" d="M12.867 3.499a1 1 0 0 0-1.734 0l-8 14A1 1 0 0 0 4 19.5h16a1 1 0 0 0 .867-1.501l-8-14ZM12 8a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1Zm0 9a1.25 1.25 0 1 1 0-2.5a1.25 1.25 0 0 1 0 2.5Z"/></symbol>
    <symbol id="icon-info" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a10 10 0 1 0 0 20a10 10 0 0 0 0-20Zm0 4.75a1.25 1.25 0 1 1 0 2.5a1.25 1.25 0 0 1 0-2.5Zm-1.25 4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v6.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1Z"/></symbol>
    <symbol id="icon-csv" viewBox="0 0 24 24"><path fill="currentColor" d="M5 3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9.414a2 2 0 0 0-.586-1.414l-4.414-4.414A2 2 0 0 0 14.586 3ZM5 5h9v4a2 2 0 0 0 2 2h4v8H5Zm11 0.414L18.586 8H16Z"/><path fill="currentColor" d="M7.5 13c-1.105 0-1.9.726-1.9 1.75S6.41 16.5 7.5 16.5c.57 0 1.06-.18 1.43-.51a.75.75 0 0 0-.99-1.12c-.12.1-.25.13-.44.13-.37 0-.65-.24-.65-.75s.28-.75.65-.75c.17 0 .31.04.44.14a.75.75 0 0 0 .99-1.12c-.37-.33-.86-.48-1.43-.48Zm2.43.1a.75.75 0 0 0-.57.9l.6 2.4a.75.75 0 1 0 1.46-.36l-.6-2.4a.75.75 0 0 0-.89-.54Zm3.93 0c-.62 0-1.07.29-1.31.66a1.6 1.6 0 0 0-.25.82c0 .36.12.67.31.93a1.88 1.88 0 0 0 1.53.79c.59 0 1.05-.17 1.39-.5a.75.75 0 1 0-1.02-1.09c-.08.08-.2.14-.38.14-.23 0-.44-.16-.44-.32c0-.12.03-.2.08-.26c.07-.1.19-.17.36-.17c.16 0 .26.04.35.12c.3.26.82.24 1.06-.1c.27-.35.1-.8-.1-1.02c-.27-.29-.7-.5-1.38-.5Z"/></symbol>
    <symbol id="icon-arrow-up" viewBox="0 0 24 24"><path fill="currentColor" d="M12 5a1 1 0 0 1 .707.293l5 5a1 1 0 0 1-1.414 1.414L13 8.414V19a1 1 0 1 1-2 0V8.414l-3.293 3.293A1 1 0 0 1 6.293 10.293l5-5A1 1 0 0 1 12 5Z"/></symbol>
    <symbol id="icon-arrow-down" viewBox="0 0 24 24"><path fill="currentColor" d="M12 19a1 1 0 0 1-.707-.293l-5-5a1 1 0 0 1 1.414-1.414L11 15.586V5a1 1 0 1 1 2 0v10.586l3.293-3.293a1 1 0 0 1 1.414 1.414l-5 5A1 1 0 0 1 12 19Z"/></symbol>
</svg>

<div class="c">
  
  <div class="header-row">
    <div class="brand-wrap">
      <div class="brand-logo" aria-hidden="true">‚ö°</div>
      <div class="brand-text">
        <div class="brand-title">DesignFlow <span class="brand-version">BETA</span></div>
        <div class="brand-sub">–¢—Ä–µ–∫–µ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –±—é–¥–∂–µ—Ç–∞</div>
      </div>
    </div>
    <div style="display:flex;gap:15px;align-items:center">


          <style>
      .header-btn {
  position: relative; /* –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–π–¥–∂–∏–∫–∞ */
  padding-right: 40px; /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ —Å–ø—Ä–∞–≤–∞ –¥–ª—è –±–µ–π–¥–∂–∏–∫–∞ */
}

/* –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π —Å–∏–Ω–∏–π –±–µ–π–¥–∂–∏–∫ "New" */
.header-new-badge {
  position: absolute;
  top: -8px;
  right: -12px;
  background: var(--accent); /* –°–∏–Ω–∏–π –∞–∫—Ü–µ–Ω—Ç –∏–∑ —Ç–≤–æ–µ–π —Ç–µ–º—ã */
  color: white;
  font-size: 11px;
  font-weight: 700;
  padding: 4px 10px;
  border-radius: 8px; /* –ó–∞–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ —É–≥–ª—ã ‚Äî –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ */
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  pointer-events: none;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  transition: background 0.3s;
}

/* –í —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ ‚Äî –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Å–∏–Ω–∏–π */
body:not([data-theme="dark"]) .header-new-badge {
  background: #3b82f6;
}

/* –•–æ–≤–µ—Ä ‚Äî —á—É—Ç—å —è—Ä—á–µ */
.header-btn:hover .header-new-badge {
  background: var(--accent-hover, #6a4bff);
}
</style>





<!-- –ö–Ω–æ–ø–∫–∞ "–¢—Ä–µ–∫–µ—Ä —Ü–µ–ª–µ–π" —Å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–º —Å–∏–Ω–∏–º –±–µ–π–¥–∂–∏–∫–æ–º "New" -->
<button class="header-btn" onclick="window.location.href='Goal.html'" title="–¢—Ä–µ–∫–µ—Ä —Ü–µ–ª–µ–π">
  <i class="fa-solid fa-bullseye"></i>
  <span class="header-btn-text">–¢—Ä–µ–∫–µ—Ä —Ü–µ–ª–µ–π</span>
  <!-- –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π –±–µ–π–¥–∂–∏–∫ "New" -->
  <span class="header-new-badge">New</span>
</button>
          
          
        <button onclick="openSettings()" id="openSettingsBtn">
            <svg class="btn-icon lg"><use href="#icon-settings"/></svg>
            <span class="btn-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        </button>
        <select id="monthSelect" class="month-select" onchange="changeMonth(this.value)"></select>
    </div>
  </div>


<div class="top-panel">
  <div class="backup-alert">
      <div class="backup-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M10.29 3.86 1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0Z"></path>
              <line x1="12" y1="9" x2="12" y2="13"></line>
              <line x1="12" y1="17" x2="12.01" y2="17"></line>
          </svg>
      </div>
      <div class="backup-info">
          <div class="backup-title"><b>–í–∞–∂–Ω–æ:</b> –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.</div>
          <div class="backup-sub">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–∫–∞—á–∏–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞ –∏–ª–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å–∏—Å—Ç–µ–º—ã.</div>
      </div>
  </div>

  <div class="btns">
    <button class="btn-outline" onclick="exp()" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å JSON">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
      </svg>
      <span>–°–∫–∞—á–∞—Ç—å –±–∞–∑—É</span>
    </button>

    <button class="btn-outline" onclick="document.getElementById('importFile').click()" title="–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ JSON">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="17 8 12 3 7 8"></polyline>
        <line x1="12" y1="3" x2="12" y2="15"></line>
      </svg>
      <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∞–∑—É</span>
    </button>

    <input type="file" id="importFile" style="display:none" onchange="imp(this.files[0])">
  </div>
</div>

  <div class="tabs-container">
    <div class="tabs">
        <div class="tab" id="tab-all" onclick="switchTab('all')"><svg><use href="#icon-all"/></svg> –í—Å–µ <span class="tab-count" id="count-all">0</span></div>
        <div class="tab active" id="tab-active" onclick="switchTab('active')"><svg><use href="#icon-active"/></svg> –í —Ä–∞–±–æ—Ç–µ <span class="tab-count" id="count-active">0</span></div>
        <div class="tab" id="tab-waiting" onclick="switchTab('waiting')"><svg><use href="#icon-waiting"/></svg> –û–∂–∏–¥–∞–µ—Ç <span class="tab-count" id="count-waiting">0</span></div>
        <div class="tab" id="tab-potential" onclick="switchTab('potential')"><svg><use href="#icon-potential"/></svg> –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª <span class="tab-count" id="count-potential">0</span></div>
        <div class="tab" id="tab-requests" onclick="switchTab('requests')"><svg><use href="#icon-all"/></svg> –ó–∞—è–≤–∫–∏ <span class="tab-count" id="count-requests">0</span></div>
        <div class="tab" id="tab-paused" onclick="switchTab('paused')"><svg><use href="#icon-paused"/></svg> –ù–∞ –ø–∞—É–∑–µ <span class="tab-count" id="count-paused">0</span></div>
        <div class="tab" id="tab-archive" onclick="switchTab('archive')"><svg><use href="#icon-archive"/></svg> –í—ã–ø–æ–ª–Ω–µ–Ω–æ <span class="tab-count" id="count-archive">0</span></div>
        <div class="tab tab-trash" id="tab-trash" onclick="switchTab('trash')"><svg><use href="#icon-trash"/></svg> –ö–æ—Ä–∑–∏–Ω–∞ <span class="tab-count" id="count-trash">0</span></div>
    </div>
    <button id="newProjectButton" onclick="openAddModal()">Ôºã –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</button>
  </div>
  
  <div class="tab-desc-block" id="tab-description">–ü—Ä–æ–µ–∫—Ç—ã –≤ —Ä–∞–±–æ—Ç–µ. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –¥–µ–¥–ª–∞–π–Ω–∞–º–∏ –∏ —Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—É.</div>

<div class="pace-block" id="pace-indicator" style="display:none;" data-editable data-block-key="pace">
      <div class="pace-layout">
          <div class="pace-main">
              <div class="pace-icon-box">
                  <div id="pace-icon">üî•</div>
              </div>
              <div class="pace-info">
                  <div class="pace-label">–¢–µ–º–ø –Ω–µ–¥–µ–ª–∏</div>
                  <div class="pace-title-row">
                      <div class="pace-title" id="pace-title">–ù—É–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å—Å—è!</div>
                      <div class="pace-status pace-hurry" id="pace-status">–ö—Ä–∏—Ç–∏—á–Ω–æ</div>
                  </div>
                  <div class="pace-desc" id="pace-desc">–ì–æ—Ä–∏—Ç –¥–µ–¥–ª–∞–π–Ω–æ–≤: 2. –ü–æ–¥–Ω–∞–∂–º–∏!</div>
              </div>
          </div>
          
          <div class="pace-side">
              <div class="pace-mini-stat">
                  <div class="pace-rep-val">
                      <span class="rep-dot good" id="pace-rep-dot"></span>
                      <span id="pace-rep-text">100 / 100</span>
                  </div>
                  <div class="pace-rep-sub" id="pace-rep-caption">–î–æ–≤–µ—Ä–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ</div>
                  <div id="pace-rep-chip" style="display:none"></div> 
              </div>
              <div class="pace-btn-wrap">
                  <button id="pace-details-btn" onclick="scrollToReputation()" title="–û—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M7 17L17 7"/><path d="M7 7h10v10"/></svg>
                  </button>
              </div>
          </div>
      </div>
  </div>

  <div class="main-layout">
    
    <div id="view-active">
      <div class="table-wrap">
        <table id="t-active">
          <thead>
            <tr>
              <th class="select-col">‚Ññ</th>
              <th width="18%" data-type="active" data-key="c" onclick="sortData('active', 'c', 'string')">–ö–ª–∏–µ–Ω—Ç <span class="sort-icon"></span></th>
              <th width="19%" data-type="active" data-key="n" onclick="sortData('active', 'n', 'string')">–ü—Ä–æ–µ–∫—Ç <span class="sort-icon"></span></th>
              <th width="8%" data-type="active" data-key="start" onclick="sortData('active', 'start', 'date')">–°—Ç–∞—Ä—Ç <span class="sort-icon"></span></th>
              <th width="8%" data-type="active" data-key="dl" onclick="sortData('active', 'dl', 'date')">–î–µ–¥–ª–∞–π–Ω <span class="sort-icon"></span></th>
              <th width="6%" data-type="active" data-key="rem" onclick="sortData('active', 'rem', 'number')">–û–°–¢–ê–õ–û–°–¨ <span class="sort-icon"></span></th>
              <th width="4%" data-type="active" data-key="taxPrc" onclick="sortData('active', 'taxPrc', 'number')">–ù–∞–ª–æ–≥ % <span class="sort-icon"></span></th>
              <th width="6%" data-type="active" data-key="contractor" onclick="sortData('active', 'contractor', 'number')" style="text-align:right;">–†–∞—Å—Ö–æ–¥—ã <span class="sort-icon"></span></th>
              <th width="10%" data-type="active" data-key="p" onclick="sortData('active', 'p', 'number')" style="text-align:right;">–°—É–º–º–∞ <span class="sort-icon"></span></th>
              <th width="8%" style="text-align:right;">–ß–∏—Å—Ç—ã–º–∏</th>
              <th width="4%" style="text-align:right;">–û–ø–ª–∞—á–µ–Ω–æ</th>
              <th width="4%"></th>
            </tr>
          </thead>
          <tbody></tbody>
          <tfoot id="total-row-active">
            <tr><td colspan="8">–ò—Ç–æ–≥–æ:</td><td></td><td></td><td></td><td></td></tr>
          </tfoot>
        </table>
      </div>
    </div>

    <div id="view-waiting" style="display:none">
        <div class="table-wrap">
          <table id="t-waiting">
            <thead>
              <tr>
                <th class="select-col">‚Ññ</th>
              <th width="20%" data-type="waiting" data-key="c" onclick="sortData('waiting', 'c', 'string')">–ö–ª–∏–µ–Ω—Ç <span class="sort-icon"></span></th>
              <th width="30%" data-type="waiting" data-key="n" onclick="sortData('waiting', 'n', 'string')">–ü—Ä–æ–µ–∫—Ç <span class="sort-icon"></span></th>
              <th width="18%" data-type="waiting" data-key="p" onclick="sortData('waiting', 'p', 'number')">–°—É–º–º–∞ <span class="sort-icon"></span></th>
              <th width="22%"></th>
            </tr>
          </thead>
          <tbody></tbody>
            <tfoot id="total-row-waiting"><tr><td colspan="3">–ò—Ç–æ–≥–æ:</td><td></td><td></td></tr></tfoot>
          </table>
        </div>
    </div>
    
    <div id="view-potential" style="display:none">
        <div class="table-wrap">
          <table id="t-potential">
            <thead>
              <tr>
                <th class="select-col">‚Ññ</th>
              <th width="25%" data-type="potential" data-key="c" onclick="sortData('potential', 'c', 'string')">–ö–ª–∏–µ–Ω—Ç <span class="sort-icon"></span></th>
              <th width="40%" data-type="potential" data-key="n" onclick="sortData('potential', 'n', 'string')">–ü—Ä–æ–µ–∫—Ç <span class="sort-icon"></span></th>
              <th width="15%" data-type="potential" data-key="p" onclick="sortData('potential', 'p', 'number')">–°—É–º–º–∞ <span class="sort-icon"></span></th>
              <th width="20%"></th>
              </tr>
            </thead>
            <tbody></tbody>
          <tfoot id="total-row-potential"><tr><td colspan="3">–ò—Ç–æ–≥–æ:</td><td></td><td></td></tr></tfoot>
        </table>
      </div>
    </div>

    <div id="view-requests" style="display:none">
      <div class="table-wrap">
        <div class="row-inputs requests-row" style="padding: 15px; gap: 10px;">
            <div class="inp-group" style="flex:1">
                <label>–ö—Ç–æ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è</label>
                <input type="text" id="req-name" placeholder="–ò–º—è –∏–ª–∏ –∫–æ–º–ø–∞–Ω–∏—è">
            </div>
            <div class="inp-group" style="flex:1">
                <label>–ò—Å—Ç–æ—á–Ω–∏–∫</label>
                <input type="text" id="req-source" placeholder="–¢–µ–ª–µ–≥—Ä–∞–º, —Å–∞–π—Ç, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è">
            </div>
            <div class="inp-group" style="flex:1">
                <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <input type="text" id="req-note" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å">
            </div>
            <div class="inp-group" style="flex:1">
                <label>–°—Å—ã–ª–∫–∞</label>
                <input type="text" id="req-link" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –¢–ó –∏–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å">
            </div>
            <div class="inp-group" style="flex:0 0 140px">
                <label>–ë—é–¥–∂–µ—Ç</label>
                <input type="text" id="req-budget" placeholder="0" oninput="formatNumberInput(this)">
            </div>
            <button class="save-stg request-add-btn" onclick="addRequest()">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <table id="t-requests">
            <thead>
                <tr>
                    <th class="select-col">‚Ññ</th>
                    <th width="17%">–ö–ª–∏–µ–Ω—Ç</th>
                    <th width="17%">–ò—Å—Ç–æ—á–Ω–∏–∫</th>
                    <th width="30%">–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    <th width="12%">–°—Å—ã–ª–∫–∞</th>
                    <th width="12%">–ë—é–¥–∂–µ—Ç</th>
                    <th width="12%">–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody></tbody>
            <tfoot id="total-row-requests"><tr><td colspan="5">–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫</td><td></td><td></td></tr></tfoot>
        </table>
      </div>
    </div>

    <div id="view-paused" style="display:none">
      <div class="table-wrap">
        <table id="t-paused">
          <thead>
            <tr>
              <th class="select-col">‚Ññ</th>
              <th width="20%" data-type="paused" data-key="c" onclick="sortData('paused', 'c', 'string')">–ö–ª–∏–µ–Ω—Ç <span class="sort-icon"></span></th>
              <th width="30%" data-type="paused" data-key="n" onclick="sortData('paused', 'n', 'string')">–ü—Ä–æ–µ–∫—Ç <span class="sort-icon"></span></th>
              <th width="15%" data-type="paused" data-key="dl" onclick="sortData('paused', 'dl', 'date')">–î–µ–¥–ª–∞–π–Ω <span class="sort-icon"></span></th>
              <th width="15%" data-type="paused" data-key="p" onclick="sortData('paused', 'p', 'number')">–°—É–º–º–∞ <span class="sort-icon"></span></th>
              <th width="15%"></th>
            </tr>
          </thead>
          <tbody></tbody>
          <tfoot id="total-row-paused"><tr><td colspan="4">–ò—Ç–æ–≥–æ:</td><td></td><td></td></tr></tfoot>
        </table>
      </div>
    </div>

    <div id="view-archive" style="display:none">
      <div class="table-wrap">
        <table id="t-archive">
          <thead>
            <tr>
              <th class="select-col">‚Ññ</th>
              <th width="16%" data-type="archive" data-key="c" onclick="sortData('archive', 'c', 'string')">–ö–ª–∏–µ–Ω—Ç <span class="sort-icon"></span></th>
              <th width="28%" data-type="archive" data-key="n" onclick="sortData('archive', 'n', 'string')">–ü—Ä–æ–µ–∫—Ç <span class="sort-icon"></span></th>
              <th width="12%" data-type="archive" data-key="date" onclick="sortData('archive', 'date', 'date')">–î–µ–¥–ª–∞–π–Ω / —Å–¥–∞—á–∞ <span class="sort-icon"></span></th>
              <th width="10%" data-type="archive" data-key="p" onclick="sortData('archive', 'p', 'number')">–°—É–º–º–∞ <span class="sort-icon"></span></th>
              <th width="10%" data-type="archive" data-key="contractor" onclick="sortData('archive', 'contractor', 'number')">–†–∞—Å—Ö–æ–¥—ã <span class="sort-icon"></span></th>
              <th width="10%">–ß–∏—Å—Ç—ã–º–∏</th>
              <th width="10%"></th>
            </tr>
          </thead>
          <tbody></tbody>
          <tfoot id="total-row-archive"><tr><td colspan="4">–ò—Ç–æ–≥–æ:</td><td></td><td></td><td></td><td></td></tr></tfoot>
        </table>
      </div>
    </div>

    <div id="view-all" style="display:none">
      <div class="table-wrap">
        <table id="t-all">
          <thead>
            <tr>
              <th class="select-col">‚Ññ</th>
              <th width="12%">–°—Ç–∞—Ç—É—Å</th>
              <th width="20%">–ö–ª–∏–µ–Ω—Ç</th>
              <th width="22%">–ü—Ä–æ–µ–∫—Ç</th>
              <th width="12%">–°—Ä–æ–∫</th>
              <th width="10%">–°—É–º–º–∞</th>
              <th width="10%">–†–∞—Å—Ö–æ–¥—ã</th>
              <th width="8%">–ù–∞–ª–æ–≥</th>
              <th width="10%">–ß–∏—Å—Ç—ã–º–∏</th>
              <th width="8%">–û–ø–ª–∞—á–µ–Ω–æ</th>
              <th width="6%"></th>
            </tr>
          </thead>
          <tbody></tbody>
          <tfoot id="total-row-all"><tr><td colspan="6">–ò—Ç–æ–≥–æ:</td><td></td><td></td><td></td><td></td><td></td></tr></tfoot>
        </table>
      </div>
    </div>
    
    <div id="view-trash" style="display:none">
      <div class="table-wrap">
        <table id="t-trash">
          <thead>
            <tr>
              <th class="select-col">‚Ññ</th>
              <th width="20%">–£–¥–∞–ª–µ–Ω–æ</th>
              <th width="20%">–ö–ª–∏–µ–Ω—Ç</th>
              <th width="30%">–ü—Ä–æ–µ–∫—Ç</th>
              <th width="10%">–°—É–º–º–∞</th>
              <th width="10%">–ß–∏—Å—Ç—ã–º–∏</th>
              <th width="10%">–û–ø–ª–∞—á–µ–Ω–æ</th>
              <th width="10%">–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
          </thead>
          <tbody></tbody>
          <tfoot id="total-row-trash"><tr><td colspan="8">–ò—Ç–æ–≥–æ</td></tr></tfoot>
        </table>
      </div>
      <div class="trash-toolbar">
          <div style="color: var(--muted); font-size: 13px;">–û–±—ä–µ–∫—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∑–¥–µ—Å—å 30 –¥–Ω–µ–π, –∑–∞—Ç–µ–º —É–¥–∞–ª—è—é—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞.</div>
          <button class="trash-clean-btn" onclick="clearTrashForever()">
              <svg class="btn-icon"><use href="#icon-trash"/></svg>
              <span class="btn-label">–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É</span>
          </button>
      </div>
    </div>
  </div>
  
  <div class="dashboard" id="analytics-dashboard">
    <div class="stats-full">
      <div class="stats-two-columns">
          <div class="stats-main" data-block-container="main">
              <div class="card">
              <div class="card-head">
                  <div>
                      <div class="finance-title">–§–∏–Ω–∞–Ω—Å—ã: <span class="text-green" id="dash-month-name">...</span></div>
                      <div class="finance-sub">–î–∞—à–±–æ—Ä–¥ –ø–æ —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ –∏ –ø–ª–∞—Ç–µ–∂–∞–º</div>
                      <div class="stat-scope-note" id="stat-scope-note" title="–î–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –ø–æ –≤—Å–µ–º —Ä–∞–∑–¥–µ–ª–∞–º">–°—Ä–µ–∑: –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</div>
                  </div>
                  <div class="card-head-actions">
                      <div class="stat-pill" id="goal-pill">–¶–µ–ª—å: 0 ‚ÇΩ</div>
                      <button class="inline-link-btn" onclick="openGoalSettings()">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                  </div>
              </div>
              <div class="goal-wrap" id="goal-progress">
                  <div class="goal-info">
                      <span class="stat-label-with-help">–ü—Ä–æ–≥—Ä–µ—Å—Å —Ü–µ–ª–∏ <span class="help-icon" data-tooltip="–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ –∫ –º–µ—Å—è—á–Ω–æ–π —Ü–µ–ª–∏. –ó–Ω–∞—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –æ–ø–ª–∞—Ç.">?</span></span>
                      <span id="goal-text">0 / 0 ‚ÇΩ</span>
                  </div>
                  <div class="progress-bg"><div class="progress-fill" id="p-bar"></div></div>
              </div>
              <div class="stats-grid">
                  <div class="stat-box" data-stat="fact" data-editable="stat">
                      <div class="stat-label-row">
                          <div class="stat-label-with-help"><span class="stat-label">–§–ê–ö–¢</span><span class="help-icon" data-tooltip="–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –º–µ—Å—è—Ü —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤.">?</span></div>
                          <div class="stat-pill">–ß–∏—Å—Ç—ã–º–∏</div>
                      </div>
                      <div class="stat-val text-green mono" id="val-fact">0 ‚ÇΩ</div>
                      <div class="stat-helper" id="val-fact-prc">0%</div>
                  </div>
                  <div class="stat-box" data-stat="active-fact" data-editable="stat">
                      <div class="stat-label-row">
                          <div class="stat-label-with-help"><span class="stat-label">–ü–û–õ–£–ß–ï–ù–û</span><span class="help-icon" data-tooltip="–ß–∏—Å—Ç–∞—è —Å—É–º–º–∞, —É–∂–µ –ø–æ—Å—Ç—É–ø–∏–≤—à–∞—è –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º –≤ —Ä–∞–±–æ—Ç–µ (—Å—Ç–∞—Ç—É—Å ‚Äò–í —Ä–∞–±–æ—Ç–µ‚Äô).">?</span></div>
                          <div class="stat-pill">–ß–∏—Å—Ç—ã–º–∏ (–≤ —Ä–∞–±–æ—Ç–µ)</div>
                      </div>
                      <div class="stat-val text-green mono" id="val-active-fact">0 ‚ÇΩ</div>
                      <div class="stat-helper">–û–ø–ª–∞—á–µ–Ω–æ –≤ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö</div>
                  </div>
                  <div class="stat-box" data-stat="paid-gross" data-editable="stat">
                      <div class="stat-label-row">
                          <div class="stat-label-with-help"><span class="stat-label">–û–ü–õ–ê–ß–ï–ù–û</span><span class="help-icon" data-tooltip="–í—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –±–µ–∑ –≤—ã—á–µ—Ç–∞ –Ω–∞–ª–æ–≥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ (–≥—Ä—è–∑–Ω—ã–º–∏).">?</span></div>
                          <div class="stat-pill">–í—Å–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</div>
                      </div>
                      <div class="stat-val mono" id="val-paid-gross" style="color:var(--accent)">0 ‚ÇΩ</div>
                      <div class="stat-helper">–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (–≥—Ä—è–∑–Ω—ã–º–∏)</div>
                  </div>
                  <div class="stat-box" data-stat="total-gross" data-editable="stat">
                      <div class="stat-label-row">
                          <div class="stat-label-with-help"><span class="stat-label">–û–ë–©–ê–Ø –°–£–ú–ú–ê</span><span class="help-icon" data-tooltip="–í—Å–µ –±—é–¥–∂–µ—Ç—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ (–≥—Ä—è–∑–Ω—ã–º–∏) –≤–æ –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö, –≤–∫–ª—é—á–∞—è –∞—Ä—Ö–∏–≤ –∏ –ø–∞—É–∑—É.">?</span></div>
                          <div class="stat-pill">–ì—Ä—è–∑–Ω—ã–º–∏</div>
                      </div>
                      <div class="stat-val mono" id="val-total-gross" style="color:var(--accent)">0 ‚ÇΩ</div>
                      <div class="stat-helper">–ë—é–¥–∂–µ—Ç—ã –ø–æ –≤—Å–µ–º —Å—Ç–∞—Ç—É—Å–∞–º</div>
                  </div>
                  <div class="stat-box" data-stat="plan" data-editable="stat">
                      <div class="stat-label-row">
                          <div class="stat-label-with-help"><span class="stat-label">–ü–õ–ê–ù</span><span class="help-icon" data-tooltip="–°–∫–æ–ª—å–∫–æ –µ—â—ë –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏ –º–µ—Å—è—Ü–∞.">?</span></div>
                          <div class="stat-pill">–û—Å—Ç–∞—Ç–æ–∫ –¥–æ —Ü–µ–ª–∏</div>
                      </div>
                      <div class="stat-val text-gold mono" id="val-plan">0 ‚ÇΩ</div>
                      <div class="stat-helper">–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å</div>
                  </div>
                  <div class="stat-box" data-stat="forecast" data-editable="stat">
                      <div class="stat-label-row">
                          <div class="stat-label-with-help"><span class="stat-label">–ü–†–û–ì–ù–û–ó –ò–¢–û–ì–ê</span><span class="help-icon" data-tooltip="–û—Ü–µ–Ω–∫–∞ –∫–æ–Ω—Ü–∞ –º–µ—Å—è—Ü–∞: —Ç–µ–∫—É—â–∏–π —Ñ–∞–∫—Ç + –æ–∂–∏–¥–∞–µ–º—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º.">?</span></div>
                          <div class="stat-pill">–§–∞–∫—Ç + –æ–∂–∏–¥–∞–µ–º–æ–µ</div>
                      </div>
                      <div class="stat-val mono" id="val-total" style="color:var(--accent)">0 ‚ÇΩ</div>
                      <div class="stat-helper">–ú–∞—Ä–∂–∞: <span id="val-margin">0 ‚ÇΩ</span> (<span id="val-margin-prc">0%</span>)</div>
                  </div>
                  <div class="stat-box" data-stat="expenses" data-editable="stat">
                      <div class="stat-label-row">
                          <div class="stat-label-with-help"><span class="stat-label">–†–ê–°–•–û–î–´</span><span class="help-icon" data-tooltip="–°–æ–≤–æ–∫—É–ø–Ω—ã–µ —Ç—Ä–∞—Ç—ã –ø–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–∞–º, –≤–∫–ª—é—á–∞—è –∞—Ä—Ö–∏–≤ –∏ –ø–∞—É–∑—É.">?</span></div>
                          <div class="stat-pill">–ü–æ –≤—Å–µ–º –ø—Ä–æ–µ–∫—Ç–∞–º</div>
                      </div>
                      <div class="stat-val mono text-red" id="val-expenses">0 ‚ÇΩ</div>
                      <div class="stat-helper">–°—É–º–º–∞ –∑–∞—Ç—Ä–∞—Ç</div>
                  </div>
                  <div class="stat-box" data-stat="taxes" data-editable="stat">
                      <div class="stat-label-row">
                          <div class="stat-label-with-help"><span class="stat-label">–ù–ê–õ–û–ì–ò</span><span class="help-icon" data-tooltip="–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º —Å—Ç–∞–≤–∫–∞–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.">?</span></div>
                          <div class="stat-pill">–ö —É–ø–ª–∞—Ç–µ</div>
                      </div>
                      <div class="stat-val mono" id="val-taxes">0 ‚ÇΩ</div>
                      <div class="stat-helper">–ü–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º —Å—Ç–∞–≤–∫–∞–º</div>
                  </div>
              </div>
              <div style="position:relative;height:250px;width:100%"><canvas id="lineChart"></canvas></div>
          </div>
              <div class="card top-clients-card" id="top-clients-card" data-editable data-block-key="topClients">
                <div class="top-clients-header">
                  <div>
                    <div class="top-clients-title">–¢–æ–ø 5 –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
                    <div class="top-clients-sub" id="top-clients-sub">–ú–∞—Ä–∂–∞ –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º, –∞—Ä—Ö–∏–≤–Ω—ã–º, –Ω–∞ –ø–∞—É–∑–µ –∏ –≤ –æ–∂–∏–¥–∞–Ω–∏–∏</div>
                  </div>
                  <div class="top-clients-controls">
                    <button class="top-clients-mode-btn" id="top-clients-mode-btn" onclick="toggleTopClientsMode()" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–∏–ø –ø—Ä–∏–±—ã–ª–∏ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞">
                      <span class="top-clients-dot"></span>
                      <span id="top-clients-mode-label">–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å</span>
                    </button>
                  </div>
                </div>
                <div class="top-clients-chart"><canvas id="topClientsChart"></canvas></div>
              </div>
          </div>

          <div class="side-stack" data-block-container="side">
              
              <div class="eff-card-modern" id="efficiency-card" data-editable data-block-key="efficiency">
                  <div class="eff-header">
                      <div class="eff-title">
                          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20V10"/><path d="M18 20V4"/><path d="M6 20v-4"/></svg>
                          –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
                      </div>
                      <div class="help-icon" data-tooltip="–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–µ–Ω–µ–≥ –∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º.">?</div>
                  </div>
                  
                  <div class="eff-content-grid">
                      <div class="eff-chart-box">
                          <div class="eff-label">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª vs –§–∞–∫—Ç</div>
                          <div class="eff-chart-canvas-wrap" style="height:180px;">
                              <canvas id="pieChart"></canvas>
                          </div>
                      </div>
                      
                      <div class="eff-chart-box">
                          <div class="eff-label">–î–∏–Ω–∞–º–∏–∫–∞ (6 –º–µ—Å)</div>
                          <div class="eff-chart-canvas-wrap" style="height:160px;">
                              <canvas id="barChart"></canvas>
                          </div>
                      </div>
                  </div>
              </div>

              <div class="record-clean" id="record-banner" data-editable data-block-key="record">
                  <div class="rec-clean-header">
                      <div class="rec-clean-title">
                          <svg class="rec-clean-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>
                          –õ–∏—á–Ω—ã–π –†–µ–∫–æ—Ä–¥
                      </div>
                      <button type="button" class="rec-edit-link" onclick="openRecordSettings()">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                  </div>

                  <div class="rec-clean-values">
                      <div class="rec-val-group">
                          <span class="rec-label">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ —Å–µ–π—á–∞—Å</span>
                          <span class="rec-current-val" id="rec-current-fact">0 ‚ÇΩ</span>
                      </div>
                      <div class="rec-val-group rec-goal-group">
                          <span class="rec-label">–¶–µ–ª—å (–†–µ–∫–æ—Ä–¥)</span>
                          <span class="rec-target-val" id="record-amount">0 ‚ÇΩ</span>
                      </div>
                  </div>
                  
                  <div class="rec-progress-track">
                      <div class="rec-progress-bar" id="record-progress"></div>
                  </div>
                  
                  <div class="rec-status-text" id="record-remaining">–î–æ —Ä–µ–∫–æ—Ä–¥–∞: 0 ‚ÇΩ</div>
                  <div id="record-motiv" style="display:none"></div>
              </div>
              
              <div class="reputation-card" id="reputation-card" data-editable data-block-key="reputation">
                  <div class="rep-header-modern">
                      <div class="rep-main-score">
                          <div class="rep-badge-large">‚òÖ</div>
                          <div class="rep-header-texts">
                              <h3 id="reputation-score">100 / 100</h3>
                              <div class="rep-subtitle" id="reputation-headline">–†–µ–ø—É—Ç–∞—Ü–∏—è –±–µ–∑—É–ø—Ä–µ—á–Ω–∞</div>
                          </div>
                      </div>
                      <div class="rep-status-badge good" id="reputation-severity">–°—Ç–∞–±–∏–ª—å–Ω–æ</div>
                  </div>

                  <div class="rep-metrics-modern">
                      <div class="rep-metric-item">
                          <div class="rm-label">–í —Ä–∞–±–æ—Ç–µ</div>
                          <div class="rm-value" id="rep-active-count">0</div>
                          <div class="rm-sub" id="rep-on-time">–ë–µ–∑ –ø—Ä–æ—Å—Ä–æ—á–µ–∫</div>
                      </div>
                      <div class="rep-metric-item">
                          <div class="rm-label">–ü—Ä–æ—Å—Ä–æ—á–∫–∏</div>
                          <div class="rm-value" id="rep-overdue">0</div>
                          <div class="rm-sub" id="reputation-grade">–ó–∞–¥–∞—á –Ω–µ—Ç</div>
                      </div>
                      <div class="rep-metric-item">
                          <div class="rm-label">–ó–∞–¥–µ—Ä–∂–∫–∞ (–¥–Ω–∏)</div>
                          <div class="rep-split-val">
                              <div class="rep-sub-item">
                                  <span class="rep-sub-val" id="rep-delay-max">0</span>
                                  <span class="rep-sub-lbl">–ú–∞–∫—Å</span>
                              </div>
                              <div style="width:1px; background:var(--border);"></div>
                              <div class="rep-sub-item">
                                  <span class="rep-sub-val" id="rep-delay-avg">0</span>
                                  <span class="rep-sub-lbl">–°—Ä–µ–¥–Ω—è—è</span>
                              </div>
                          </div>
                          <div id="rep-delay" style="display:none"></div>
                      </div>
                  </div>

                  <div class="rep-body-split">
                      <div class="rep-chart-area">
                          <canvas id="reputationChart"></canvas>
                          <div class="rep-legend-row">
                              <div class="rep-legend-pill"><span class="rep-dot good"></span> <span id="rep-on-time-pill">0</span></div>
                              <div class="rep-legend-pill"><span class="rep-dot warn"></span> <span id="rep-near-pill">0</span></div>
                              <div class="rep-legend-pill"><span class="rep-dot bad"></span> <span id="rep-overdue-pill">0</span></div>
                          </div>
                          <div id="reputation-hint" style="display:none"></div>
                          <div id="reputation-detail" style="display:none"></div>
                          <div id="rep-score-label" style="display:none"></div>
                      </div>
                      <div class="rep-advice-area">
                          <div class="rep-fallout-banner" id="reputation-fallout"></div>
                          <div class="rep-advice-title">
                              <span>–ß—Ç–æ —É–ª—É—á—à–∏—Ç—å</span>
                              <span style="cursor:pointer; color:var(--accent)" onclick="openReputationTasks()">–ö –∑–∞–¥–∞—á–∞–º ‚Üí</span>
                          </div>
                          <div id="reputation-tips"></div>
                      </div>
                  </div>
              </div>

          </div>

      </div>
    </div>
  </div>

  <footer style="text-align:center; margin-top:50px; padding-top:20px; border-top:1px solid var(--border); color:var(--muted); font-size: 14px;">
      DesignFlow Tracker by
      <a href="https://t.me/r_zhegulyaev" target="_blank" style="color:var(--accent); text-decoration:none; font-weight:600;">Zhegulyaev</a>
  </footer>
</div>

<button class="scroll-toggle" id="scrollToggle" aria-label="–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–Ω–∏–∑"><svg><use href="#icon-arrow-down"/></svg></button>

<div class="bulk-toolbar" id="bulkToolbar" style="display: none;">
    <span style="color:var(--text); font-weight: 600;" id="bulkCount">0 –≤—ã–±—Ä–∞–Ω–æ</span>
    <button class="bulk-action-btn" onclick="clearSelection()">‚Ü∫ –û—Ç–º–µ–Ω–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ</button>
    <button class="bulk-action-btn" onclick="bulkDuplicate()">‚ùê –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å</button>

    <select id="bulkMoveSelect" class="bulk-move-select" onchange="askBulkMove(this.value)">
        <option value="">–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤...</option>
        <option value="active">–í —Ä–∞–±–æ—Ç—É</option>
        <option value="waiting">–û–∂–∏–¥–∞–µ—Ç</option>
        <option value="paused">–ù–∞ –ø–∞—É–∑–µ</option>
        <option value="potential">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª</option>
        <option value="requests">–í –∑–∞—è–≤–∫–∏</option>
        <option value="archive">–í—ã–ø–æ–ª–Ω–µ–Ω–æ (–ê—Ä—Ö–∏–≤)</option>
    </select>
    
    <button class="bulk-action-btn delete" onclick="askBulkDelete()">√ó –£–¥–∞–ª–∏—Ç—å</button>
</div>

<div class="modal" id="addProjectModal">
    <div class="modal-content modal-wide">
        <span class="close-modal-x" onclick="attemptCloseProjectModal()">√ó</span>
        <h2 style="margin-bottom:20px; font-size: 24px;">–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç</h2>
        
        <div class="modal-layout-modern">

            <div>
                <div class="modal-section-title">–û—Å–Ω–æ–≤–Ω–æ–µ</div>
                
                <div class="form-grid-row">
                    <div class="inp-modern">
                        <label>–°—Ç–∞—Ç—É—Å</label>
                        <select id="add-proj-type" onchange="handleStatusChange(this.value)">
                            <option value="active">–í —Ä–∞–±–æ—Ç—É (–ê–∫—Ç–∏–≤–Ω—ã–π)</option>
                            <option value="potential">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª (–õ–∏–¥)</option>
                            <option value="waiting">–û–∂–∏–¥–∞–µ—Ç (–ú–∞—Ç–µ—Ä–∏–∞–ª—ã)</option>
                            <option value="paused">–ù–∞ –ø–∞—É–∑–µ</option>
                            <option value="archive">–í—ã–ø–æ–ª–Ω–µ–Ω–æ (–ê—Ä—Ö–∏–≤)</option>
                        </select>
                    </div>
                    <div class="inp-modern">
                        <label>–ö–ª–∏–µ–Ω—Ç</label>
                        <input type="text" id="add-proj-client" placeholder="–ò–º—è –∏–ª–∏ –ö–æ–º–ø–∞–Ω–∏—è">
                    </div>
                </div>
                
                <div class="form-grid-row">
                    <div class="inp-modern form-grid-full" style="grid-column: 1 / -1;">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
                        <div style="position:relative;">
                            <input type="text" id="add-proj-name" list="project-name-templates" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–∏–∑–∞–π–Ω —Å–∞–π—Ç–∞">
                            <button type="button" class="clear-input-btn hidden" id="project-name-clear" onclick="clearProjectName()" style="top:10px; right:10px;">√ó</button>
                        </div>
                        <div class="template-control-group">
                            <div class="tpl-btn-chip create" onclick="saveNameTemplate()">+ –í —à–∞–±–ª–æ–Ω—ã</div>
                            <div class="tpl-btn-chip list" onclick="openTemplateManagerModal()">
                                <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>
                                –ú–æ–∏ —à–∞–±–ª–æ–Ω—ã
                            </div>
                            <div class="template-helper" id="template-helper" style="margin:0; font-size:11px;"></div>
                            <datalist id="project-name-templates"></datalist>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="modal-section-title">–§–∏–Ω–∞–Ω—Å—ã</div>
                <div class="form-grid-row finance">
                    <div class="inp-modern">
                        <label>–°—É–º–º–∞ (‚ÇΩ)</label>
                        <input type="text" id="add-proj-price" placeholder="0" oninput="formatNumberInput(this)">
                    </div>
                    <div class="inp-modern">
                        <label>–û–ø–ª–∞—á–µ–Ω–æ</label>
                        <select id="add-proj-paid">
                            <option value="0">0%</option>
                            <option value="50" selected>50%</option>
                            <option value="100">100%</option>
                        </select>
                    </div>
                    <div class="inp-modern">
                        <label>–†–∞—Å—Ö–æ–¥—ã</label>
                        <select id="add-proj-contractor-mode" onchange="handleNewContractorModeChange(this.value)">
                            <option value="none">–ù–µ—Ç</option>
                            <option value="amount">–°—É–º–º–∞ (‚ÇΩ)</option>
                            <option value="percent">–ü—Ä–æ—Ü–µ–Ω—Ç (%)</option>
                        </select>
                        <div class="helper-note is-hidden" id="add-contractor-helper" style="margin-top:6px;"></div>
                        <div id="contractor-amount-wrap" class="is-hidden" style="margin-top:6px;">
                             <div class="input-with-suffix">
                                <input type="text" class="contractor-input" id="add-proj-contractor" placeholder="–°—É–º–º–∞" oninput="formatNumberInput(this)">
                                <span class="input-suffix" id="contractor-suffix">‚ÇΩ</span>
                            </div>
                        </div>
                    </div>
                    <div class="inp-modern">
                        <label>–ù–∞–ª–æ–≥</label>
                        <select id="add-proj-tax">
                            <option value="0">0%</option>
                            <option value="4">4%</option>
                            <option value="6">6%</option>
                            <option value="13">13%</option>
                        </select>
                    </div>
                </div>
            </div>

            <div>
                <div class="modal-section-title">–°—Ä–æ–∫–∏ –∏ –¥–µ—Ç–∞–ª–∏</div>
                <div class="date-panel" style="display:block; padding: 16px;">
    
    <div class="date-panel-row">
        <div class="date-panel-item">
            <label>üöÄ –î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞</label>
             <div class="date-input-wrap" id="add-proj-start-display" onclick="openDateInModal('add-proj-start-val')" style="background:var(--input-bg); width:100%; height:44px;">
                <svg class="date-icon"><use href="#icon-calendar"/></svg>
                <span class="date-text-display">–°–µ–≥–æ–¥–Ω—è</span>
             </div>
             <input type="hidden" id="add-proj-start-val" value="">
        </div>

        <div class="date-panel-item">
             <label>üèÅ –î–µ–¥–ª–∞–π–Ω</label>
             <div class="deadline-row" style="width:100%">
                 <div class="date-input-wrap" id="add-proj-dl-display" onclick="openDateInModal('add-proj-dl-val')" style="background:var(--input-bg); width:100%; height:44px;">
                   <svg class="date-icon"><use href="#icon-calendar"/></svg>
                   <span class="date-text-display">–ù–µ—Ç —Å—Ä–æ–∫–∞</span>
                </div>
                <button type="button" class="deadline-clear-btn" onclick="clearNewProjectDeadline()" title="–£–±—Ä–∞—Ç—å –¥–µ–¥–ª–∞–π–Ω" style="height:44px; margin:0 0 0 4px;">
                    <svg><use href="#icon-calendar-off"/></svg>
                </button>
             </div>
            <input type="hidden" id="add-proj-dl-val" value="">
        </div>

        <div class="date-panel-item shrink">
            <label>‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ä–æ–∫</label>
            <select id="add-proj-dl-days" onchange="applyDeadlinePreset()" class="bulk-move-select" style="background:var(--input-bg); width:100%; height:44px; margin:0;">
                <option value="">–í—ã–±—Ä–∞—Ç—å...</option>
                <option value="1">1 –¥–µ–Ω—å</option>
                <option value="3">3 –¥–Ω—è</option>
                <option value="7">–ù–µ–¥–µ–ª—è</option>
                <option value="custom">–°–≤–æ–π —Å—Ä–æ–∫</option>
            </select>
        </div>

        <div class="date-panel-item mini">
            <label>&nbsp;</label> 
            <input type="number" id="add-proj-dl-custom" placeholder="–î–Ω–µ–π" oninput="applyDeadlinePreset()" style="width: 100%; display:none; background:var(--input-bg); border:1px solid var(--border); border-radius:10px; padding:10px; height: 44px;">
        </div>
        
        <input type="time" id="add-proj-dl-time" step="300" oninput="applyDeadlinePreset()" style="display:none;">
    </div>

</div>
                <div style="margin-top: 16px;">
                    <button type="button" class="link-btn link-inline-btn" id="new-project-link-btn" onclick="openLink('new')" style="justify-content: flex-start;">
                        <svg><use href="#icon-link"/></svg>
                        <span>–°—Å—ã–ª–∫–∞ –Ω–∞ —á–∞—Ç/–º–∞—Ç–µ—Ä–∏–∞–ª—ã</span>
                    </button>
                        <div class="link-preview" id="new-project-link-preview" style="display:none; margin-top:10px;">
                            <div class="link-preview-body">
                                <div class="link-preview-head">
                                    <div class="link-preview-label" id="new-project-link-label">–°—Å—ã–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞</div>
                                    <div class="link-preview-info">
                                        <a class="link-preview-url" id="new-project-link-text" href="#" target="_blank"></a>
                                    </div>
                                </div>
                                <div class="link-preview-title" id="new-project-link-title" style="display:none"></div>
                            </div>
                            <div class="link-preview-actions">
                                <button class="edit-link-btn" type="button" onclick="openLink('new')">
                                    <svg><use href="#icon-pen"/></svg>
                                    <span>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</span>
                                </button>
                                <button class="del-btn" type="button" onclick="clearNewProjectLink()">√ó</button>
                            </div>
                        </div>
                    </div>
            </div>

        </div>

        <div class="add-modal-actions" style="margin-top: 24px; padding-top: 20px; border-top: 1px solid var(--border);">
            <button class="save-stg" onclick="saveNewProject()" style="width:100%; font-size: 16px; padding: 14px;">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
        </div>
    </div>
</div>

<div class="modal modal-centered" id="templateManagerModal">
    <div class="modal-content modal-wide template-manager-modal">
        <span class="close-modal-x" onclick="closeTemplateManagerModal()">√ó</span>
        <h3 style="margin-bottom: 8px;">–ú–æ–∏ —à–∞–±–ª–æ–Ω—ã</h3>
        <p class="helper-note">–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ —Å—Ç—Ä–æ–∫–∏, —á—Ç–æ–±—ã –º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å.</p>
        <div class="template-modal-add">
            <div class="inp-group template-modal-input">
                <label>–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω</label>
                <input type="text" id="template-manager-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –î–∏–∑–∞–π–Ω –ª–µ–Ω–¥–∏–Ω–≥–∞">
            </div>
            <button class="save-stg template-add-btn" type="button" onclick="addTemplateFromModal()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
        <div class="template-helper" id="template-manager-helper">–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —à–∞–±–ª–æ–Ω –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –µ–≥–æ –Ω–∏–∂–µ.</div>
        <div class="template-list" id="template-manager-list"></div>
    </div>
</div>

<div class="modal" id="linkModal">
    <div class="modal-content">
        <span class="close-modal-x" onclick="closeLinkModal()">√ó</span>
        <h3 style="margin-bottom:10px">–°—Å—ã–ª–∫–∞ –Ω–∞ —á–∞—Ç/–º–∞—Ç–µ—Ä–∏–∞–ª—ã</h3>
        <div class="inp-group">
            <input type="url" id="link-input" placeholder="https://t.me/...">
        </div>
        <label class="checkbox-wrap" style="margin-top:-5px;">
            <input type="checkbox" id="link-is-telegram">
            –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ Telegram (—á–∞—Ç/–∫–∞–Ω–∞–ª)
        </label>
        <p class="helper-note">–ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å @username, –º—ã —É–±–µ—Ä—ë–º @ –∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏–º –µ–≥–æ –≤ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É.</p>
        <button class="save-stg" style="background:var(--btn-blue); border-color:var(--btn-blue);" id="saveLinkBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
</div>

<div class="modal" id="dateModal">
    <div class="modal-content date-modal-content">
        <span class="close-modal-x" onclick="closeDateModal()">√ó</span>
        <h3 style="margin-bottom: 0;" id="date-modal-title">–î–∞—Ç–∞</h3>
        <p style="color:var(--muted); font-size: 13px; margin-bottom: 15px;">–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –∏–ª–∏ –≤—Ä–µ–º—è.</p>
        
        <label class="checkbox-wrap">
            <input type="checkbox" id="date-has-time" onchange="toggleTimeInput()"> 
            –£–∫–∞–∑–∞—Ç—å —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è
        </label>
        
        <div class="date-time-inputs">
            <div class="input-with-icon">
                <svg class="input-icon"><use href="#icon-calendar"/></svg>
                <input type="text" id="date-input-val" placeholder="–î–î.–ú–ú.–ì–ì–ì–ì">
            </div>
            <div class="input-with-icon">
                <svg class="input-icon"><use href="#icon-clock"/></svg>
                <input type="text" id="time-input-val" placeholder="–ß–ß:–ú–ú" disabled>
            </div>
        </div>
        <div class="deadline-presets modal-deadline-presets">
            <select id="date-modal-preset" onchange="applyDateModalPreset()">
                <option value="">–ë—ã—Å—Ç—Ä—ã–π —Å—Ä–æ–∫</option>
                <option value="1">1 –¥–µ–Ω—å</option>
                <option value="3">3 –¥–Ω—è</option>
                <option value="7">–ù–µ–¥–µ–ª—è</option>
                <option value="custom">–°–≤–æ–π —Å—Ä–æ–∫</option>
            </select>
            <input type="number" id="date-modal-custom" placeholder="–î–Ω–µ–π" oninput="applyDateModalPreset()" style="display:none;">
            <button type="button" class="deadline-clear-btn" id="date-modal-clear" onclick="clearDateModalDeadline()">
                <svg><use href="#icon-calendar-off"/></svg>
                <span>–ë–µ–∑ –¥–µ–¥–ª–∞–π–Ω–∞</span>
            </button>
        </div>
        <div class="date-modal-footer">
            <button class="save-stg" style="background:var(--btn-blue); border-color:var(--btn-blue);" onclick="saveDate()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
    </div>
</div>

<div class="modal" id="settingsModal">
    <div class="modal-content settings-modal">
        <span class="close-modal-x" onclick="attemptCloseSettings()">√ó</span>
        <div class="settings-header">
            <div class="settings-header-text">
                <div class="settings-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                <div class="settings-sub">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –±–ª–æ–∫–∞–º–∏, —Ç–µ–º–æ–π, —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏.</div>
            </div>
            <div class="settings-pill">DesignFlow BETA</div>
        </div>

        <div class="settings-layout">
            <div class="settings-tabs">
                <button class="settings-nav-btn active" data-target="appearance" onclick="activateSettingsPane('appearance')">
                    <svg class="settings-nav-icon"><use href="#icon-sun"/></svg>
                    <span>–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</span>
                </button>
                <button class="settings-nav-btn" data-target="blocks" onclick="activateSettingsPane('blocks')">
                    <svg class="settings-nav-icon"><use href="#icon-grid"/></svg>
                    <span>–ë–ª–æ–∫–∏</span>
                </button>
                <button class="settings-nav-btn" data-target="tables" onclick="activateSettingsPane('tables')">
                    <svg class="settings-nav-icon"><use href="#icon-table"/></svg>
                    <span>–¢–∞–±–ª–∏—Ü–∞</span>
                </button>
                <button class="settings-nav-btn" data-target="data" onclick="activateSettingsPane('data')">
                    <svg class="settings-nav-icon"><use href="#icon-download"/></svg>
                    <span>–î–∞–Ω–Ω—ã–µ</span>
                </button>
            </div>

            <div class="settings-content">
                <div class="settings-pane active" data-pane="appearance">
                    <div class="settings-section">
                        <div class="settings-section-title">–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</div>
                        <div class="settings-section-sub">–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–µ—Ç–ª—É—é, —Ç—ë–º–Ω—É—é –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ç–µ–º—É –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫.</div>
                        <div class="radio-grid">
                            <label class="radio-card">
                                <input type="radio" name="theme-mode" value="auto" id="theme-mode-auto">
                                <div>
                                    <div class="radio-card-title">–ê–≤—Ç–æ</div>
                                    <div class="radio-card-sub">–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–º—É –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫ –∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.</div>
                                </div>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="theme-mode" value="light" id="theme-mode-light">
                                <div>
                                    <div class="radio-card-title">–°–≤–µ—Ç–ª–∞—è</div>
                                    <div class="radio-card-sub">–õ—ë–≥–∫–∞—è –ø–∞–ª–∏—Ç—Ä–∞ –¥–ª—è –¥–Ω–µ–≤–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–µ—á–∞—Ç–∏.</div>
                                </div>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="theme-mode" value="dark" id="theme-mode-dark">
                                <div>
                                    <div class="radio-card-title">–¢—ë–º–Ω–∞—è</div>
                                    <div class="radio-card-sub">–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞, –±–µ—Ä–µ–∂—ë—Ç –≥–ª–∞–∑–∞ –∏ –±–∞—Ç–∞—Ä–µ—é.</div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="settings-pane" data-pane="blocks">
                    <div class="settings-section">
                        <div class="settings-section-title">–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤</div>
                        <div class="settings-section-sub">–°–∫—Ä–æ–π—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–µ—à–∞—é—Ç —Ñ–æ–∫—É—Å—É. –ü—Ä–µ–≤—å—é –Ω–∏–∂–µ –ø–æ–∫–∞–∂—É—Ç, –∫–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç –±–ª–æ–∫–∏.</div>
                        <div class="settings-options settings-columns">
                            <div class="block-setting" data-block="backup">
                                <div class="settings-row">
                                    <div>
                                        <div class="settings-row-title">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ –±—ç–∫–∞–ø</div>
                                        <div class="settings-row-sub">–ü–ª–∞—à–∫–∞ —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.</div>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="block-toggle-backup">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="block-preview block-preview--neutral">
                                    <div class="preview-banner">‚ö† –í–∞–∂–Ω–æ: –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.<span style="color: var(--muted); font-weight: 700; font-size: 12px;">–°–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø</span></div>
                                    <div class="preview-state">–°–∫—Ä—ã—Ç–æ</div>
                                </div>
                            </div>
                            <div class="block-setting" data-block="pace">
                                <div class="settings-row">
                                    <div>
                                        <div class="settings-row-title">–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ–º–ø–∞</div>
                                        <div class="settings-row-sub">–ö–∞—Ä—Ç–æ—á–∫–∞ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –ø–æ –¥–µ–¥–ª–∞–π–Ω–∞–º –∏ –º–∞—Ä–∂–µ.</div>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="block-toggle-pace">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="block-preview">
                                    <div class="preview-card small"><div class="settings-row-title">–¢–µ–º–ø –Ω–µ–¥–µ–ª–∏</div><div class="preview-bar" style="margin-top:8px"><span style="width: 62%"></span></div></div>
                                    <div class="preview-card small"><div class="settings-row-title">–†–µ–ø—É—Ç–∞—Ü–∏—è</div><div class="preview-bar" style="margin-top:8px"><span style="width: 38%"></span></div></div>
                                    <div class="preview-state">–°–∫—Ä—ã—Ç–æ</div>
                                </div>
                            </div>
                            <div class="block-setting" data-block="dashboard">
                                <div class="settings-row">
                                    <div>
                                        <div class="settings-row-title">–î–∞—à–±–æ—Ä–¥ –∏ –≥—Ä–∞—Ñ–∏–∫–∏</div>
                                        <div class="settings-row-sub">–ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ —Ü–µ–ª—è–º, –¥–µ–Ω–µ–∂–Ω—ã–º –ø–æ—Ç–æ–∫–∞–º –∏ —Ç–æ–ø–∞–º –∫–ª–∏–µ–Ω—Ç–æ–≤.</div>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="block-toggle-dashboard">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="block-preview">
                                    <div class="preview-pill">–¶–µ–ª—å –º–µ—Å—è—Ü–∞</div>
                                    <div class="preview-grid">
                                    <div class="preview-card"><div class="settings-row-title">–§–∞–∫—Ç</div><div class="preview-bar" style="margin-top:8px"><span style="width:76%"></span></div></div>
                                        <div class="preview-card"><div class="settings-row-title">–ü—Ä–æ–≥–Ω–æ–∑</div><div class="preview-bar"style="margin-top:8px"><span style="width:54%"></span></div></div>
                                        <div class="preview-card"><div class="settings-row-title">–†–∞—Å—Ö–æ–¥—ã</div><div class="preview-bar"style="margin-top:8px"><span style="width:42%"></span></div></div>
                                    </div>
                                    <div class="preview-state">–°–∫—Ä—ã—Ç–æ</div>
                                </div>
                            </div>
                            <div class="block-setting" data-block="efficiency">
                                <div class="settings-row">
                                    <div>
                                        <div class="settings-row-title">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                                        <div class="settings-row-sub">–ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–ª—É—á–µ–Ω–æ/–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –∏ –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º.</div>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="block-toggle-efficiency">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="block-preview">
                                    <div class="preview-card"><div class="settings-row-title">–ü–æ–ª—É—á–µ–Ω–æ</div><div class="preview-bar" style="margin-top:8px"><span style="width: 58%"></span></div></div>
                                    <div class="preview-card"><div class="settings-row-title">–î–∏–Ω–∞–º–∏–∫–∞</div><div class="preview-bar" style="margin-top:8px"><span style="width: 44%"></span></div></div>
                                    <div class="preview-state">–°–∫—Ä—ã—Ç–æ</div>
                                </div>
                            </div>
                            <div class="block-setting" data-block="topClients">
                                <div class="settings-row">
                                    <div>
                                        <div class="settings-row-title">–¢–æ–ø –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
                                        <div class="settings-row-sub">–°—Ç–æ–ª–±–∏–∫–∏ –ø–æ —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ —Å—Ä–µ–¥–∏ 5 –ª—É—á—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.</div>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="block-toggle-top-clients">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="block-preview">
                                    <div class="preview-card"><div class="settings-row-title">Top 5</div><div class="preview-bar" style="margin-top:8px"><span style="width: 65%"></span></div><div class="settings-row-sub" style="margin-top:8px">–õ—É—á—à–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –º–µ—Å—è—Ü–∞</div></div>
                                    <div class="preview-state">–°–∫—Ä—ã—Ç–æ</div>
                                </div>
                            </div>
                            <div class="block-setting" data-block="record">
                                <div class="settings-row">
                                    <div>
                                        <div class="settings-row-title">–†–µ–∫–æ—Ä–¥ –º–µ—Å—è—Ü–∞</div>
                                        <div class="settings-row-sub">–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∫ –ª–∏—á–Ω–æ–º—É —Ä–µ–∫–æ—Ä–¥—É –ø–æ —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏.</div>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="block-toggle-record">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="block-preview">
                                    <div class="preview-banner">üèÜ –ü—Ä–æ–≥—Ä–µ—Å—Å –∫ —Ä–µ–∫–æ—Ä–¥—É</div>
                                    <div class="preview-bar" style="margin-top:8px"><span style="width:72%"></span></div>
                                    <div class="preview-state">–°–∫—Ä—ã—Ç–æ</div>
                                </div>
                            </div>
                            <div class="block-setting" data-block="reputation">
                                <div class="settings-row">
                                    <div>
                                        <div class="settings-row-title">–†–µ–ø—É—Ç–∞—Ü–∏—è</div>
                                        <div class="settings-row-sub">–ö–∞—Ä—Ç–æ—á–∫–∞ —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º –¥–µ–¥–ª–∞–π–Ω–æ–≤ –∏ —Å–æ–≤–µ—Ç–∞–º–∏.</div>
                                    </div>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="block-toggle-reputation">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                                <div class="block-preview">
                                    <div class="preview-grid">
                                        <div class="preview-card"><div class="settings-row-title">–†–µ–ø—É—Ç–∞—Ü–∏—è</div><div class="settings-row-sub" style="margin-top:6px">100 / 100</div></div>
                                        <div class="preview-card"><div class="settings-row-title">–ü—Ä–æ—Å—Ä–æ—á–∫–∏</div><div class="settings-row-sub" style="margin-top:6px">0 –∑–∞–¥–∞—á</div></div>
                                    </div>
                                    <div class="preview-state">–°–∫—Ä—ã—Ç–æ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-section">
                        <div class="settings-section-title">–ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</div>
                        <div class="settings-section-sub">–í–∫–ª—é—á–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –¥–∞—à–±–æ—Ä–¥–µ.</div>
                        <div class="settings-chip-grid">
                            <div class="settings-chip">
                                <div><strong>–ü—Ä–æ–≥—Ä–µ—Å—Å —Ü–µ–ª–∏</strong><br><small>–ü–æ–ª–æ—Å–∞ –∏ –ø–æ–¥–ø–∏—Å–∏ –ø–æ –º–µ—Å—è—á–Ω–æ–π —Ü–µ–ª–∏</small></div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="stat-toggle-goal">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-chip">
                                <div><strong>–§–∞–∫—Ç</strong><br><small>–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å –∑–∞ –º–µ—Å—è—Ü</small></div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="stat-toggle-fact">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-chip">
                                <div><strong>–ü–æ–ª—É—á–µ–Ω–æ (–≤ —Ä–∞–±–æ—Ç–µ)</strong><br><small>–£–∂–µ –æ–ø–ª–∞—á–µ–Ω–æ –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö</small></div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="stat-toggle-active-fact">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-chip">
                                <div><strong>–û–ø–ª–∞—á–µ–Ω–æ</strong><br><small>–ì—Ä—è–∑–Ω—ã–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</small></div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="stat-toggle-paid-gross">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-chip">
                                <div><strong>–û–±—â–∞—è —Å—É–º–º–∞</strong><br><small>–í—Å–µ –±—é–¥–∂–µ—Ç—ã –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º</small></div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="stat-toggle-total-gross">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-chip">
                                <div><strong>–ü–ª–∞–Ω</strong><br><small>–û—Å—Ç–∞—Ç–æ–∫ –¥–æ —Ü–µ–ª–∏</small></div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="stat-toggle-plan">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-chip">
                                <div><strong>–ü—Ä–æ–≥–Ω–æ–∑ –∏—Ç–æ–≥–∞</strong><br><small>–§–∞–∫—Ç + –æ–∂–∏–¥–∞–µ–º—ã–µ –ø–ª–∞—Ç–µ–∂–∏</small></div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="stat-toggle-forecast">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-chip">
                                <div><strong>–†–∞—Å—Ö–æ–¥—ã</strong><br><small>–í—Å–µ —Ç—Ä–∞—Ç—ã –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º</small></div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="stat-toggle-expenses">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-chip">
                                <div><strong>–ù–∞–ª–æ–≥–∏</strong><br><small>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è</small></div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="stat-toggle-taxes">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="settings-pane" data-pane="tables">
                    <div class="settings-section">
                        <div class="settings-section-title">–†–∞–∑–¥–µ–ª—ã —Ç–∞–±–ª–∏—Ü—ã</div>
                        <div class="settings-section-sub">–í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ —Ç–∞–±–ª–∏—Ü–µ.</div>
                        <div class="settings-options settings-columns">
                            <div class="settings-row">
                                <div>
                                    <div class="settings-row-title">–ó–∞—è–≤–∫–∏</div>
                                    <div class="settings-row-sub">–ù–æ–≤—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–æ–≤ –∏ –ª–∏–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="table-toggle-requests">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-row">
                                <div>
                                    <div class="settings-row-title">–û–∂–∏–¥–∞–µ—Ç</div>
                                    <div class="settings-row-sub">–ü—Ä–æ–µ–∫—Ç—ã, –≥–¥–µ –∂–¥—ë–º –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏–ª–∏ –æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–∞.</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="table-toggle-waiting">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="settings-row">
                                <div>
                                    <div class="settings-row-title">–ù–∞ –ø–∞—É–∑–µ</div>
                                    <div class="settings-row-sub">–ó–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–∫—Ä—ã—Ç—å.</div>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="table-toggle-paused">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        <div class="settings-footer-note">–ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å —Å–∫—Ä—ã—Ç, –≤–∫–ª–∞–¥–∫–∞ –∏ –µ—ë –∏–∫–æ–Ω–∫–∞ –∏—Å—á–µ–∑–Ω—É—Ç, –∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ä–Ω—ë—Ç—Å—è –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ã–π —Ä–∞–∑–¥–µ–ª.</div>
                    </div>
                </div>

                <div class="settings-pane" data-pane="data">
                    <div class="settings-section">
                        <div style="display:flex; gap: 10px; align-items: baseline; flex-wrap: wrap;">
                            <div class="settings-section-title" style="margin:0;">–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏</div>
                            <div class="settings-section-sub" style="margin:0;">–°–∫–∞—á–∞–π—Ç–µ –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ JSON, –ª–∏–±–æ –≤—ã–≥—Ä—É–∑–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –≤ CSV.</div>
                        </div>
                        <div class="settings-actions">
                            <button onclick="exp()"><svg class="btn-icon"><use href="#icon-download"/></svg><span class="btn-label">–°–∫–∞—á–∞—Ç—å –±–∞–∑—É</span></button>
                            <button onclick="document.getElementById('imp').click()"><svg class="btn-icon"><use href="#icon-upload"/></svg><span class="btn-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å –±–∞–∑—É</span></button>
                            <button onclick="expCSV()"><svg class="btn-icon"><use href="#icon-csv"/></svg><span class="btn-label">–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV</span></button>
                        </div>
                        <input type="file" id="imp" accept=".json" style="display:none" onchange="imp(this.files[0])">
                        <div class="settings-footer-note" style="display:flex; align-items: flex-start; gap:8px;">
                            <svg class="btn-icon" style="color: var(--red); margin-top:2px;"><use href="#icon-alert"/></svg>
                            <span>–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ. –î–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞ –∏–ª–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å–∏—Å—Ç–µ–º—ã.</span>
                        </div>
                    </div>

                    <div class="settings-section">
                <div style="display: flex !important; flex-direction: row !important; align-items: baseline !important; gap: 10px !important; margin-bottom: 10px !important; flex-wrap: nowrap !important;">
    <div class="settings-section-title" style="margin: 0 !important; display: inline-block !important; white-space: nowrap !important;">
        –¶–µ–ª–∏ –∏ —Ä–µ–∫–æ—Ä–¥
    </div>
    <span style="color:#56657d; font-size: 13px; line-height: 1.5; display: inline-block !important;">
        –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –º—ã –ø–æ–∫–∞–∂–µ–º –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ –∏ –≤ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö.
    </span>
</div><br>
                        <div class="settings-actions" style="margin-top: 0; gap: 16px;">
                            <div class="inp-group" style="flex:1">
                                <label>–¶–µ–ª—å –Ω–∞ –º–µ—Å—è—Ü (‚ÇΩ)</label>
                                <input type="text" id="stg-goal" oninput="formatNumberInput(this)">
                            </div>
                            <div class="inp-group" style="flex:1">
                                <label>–†–µ–∫–æ—Ä–¥ (‚ÇΩ)</label>
                                <input type="text" id="stg-rec" oninput="formatNumberInput(this)">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="settings-actions-row">
            <button class="btn-ghost" type="button" onclick="resetInterface()">–°–±—Ä–æ—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</button>
            <button class="save-stg" style="background:var(--btn-blue); border-color:var(--btn-blue);" onclick="saveSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>
    </div>
</div>
<div class="modal" id="settingsUnsavedModal" style="display:none;">
    <div class="modal-content" style="max-width: 420px;">
        <h3 style="margin-bottom: 6px;">–ó–∞–∫—Ä—ã—Ç—å –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è?</h3>
        <p style="color:var(--muted); font-weight: 700; line-height: 1.4;">–í—ã –∏–∑–º–µ–Ω–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –Ω–æ –Ω–µ –Ω–∞–∂–∞–ª–∏ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª. –í—ã–π—Ç–∏ –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏?</p>
        <div style="display:flex; gap:10px; margin-top: 18px; flex-wrap: wrap;">
            <button class="btn-ghost" style="flex:1; min-width:180px;" onclick="discardSettingsChanges()">–î–∞, –≤—ã–π—Ç–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—è</button>
            <button class="save-stg" style="flex:1; min-width:180px; background:var(--btn-blue); border-color:var(--btn-blue);" onclick="saveSettings()">–ù–µ—Ç, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏</button>
        </div>
    </div>
</div>
<div class="modal" id="deleteConfirmModal">
    <div class="modal-content">
        <span class="close-modal-x" onclick="document.getElementById('deleteConfirmModal').style.display='none'">√ó</span>
        <h3 style="color:var(--text); margin-bottom:10px;" id="del-modal-title">–£–¥–∞–ª–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É?</h3>
        <p style="color:var(--muted); margin-bottom: 20px; font-size:14px;" id="del-modal-desc">–û–±—ä–µ–∫—Ç –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è 30 –¥–Ω–µ–π.</p>
        <div style="display:flex;gap:15px;">
            <button onclick="document.getElementById('deleteConfirmModal').style.display='none'" style="flex:1">–û—Ç–º–µ–Ω–∞</button>
            <button class="confirm-del-btn" style="background:var(--red); border-color:var(--red);" id="finalDeleteBtn" style="flex:1">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
    </div>
</div>

<div class="modal" id="completeModal" style="display:none;">
    <div class="modal-content complete-modal-card">
        <span class="close-modal-x" onclick="closeCompleteModal()">√ó</span>
        
        <div class="complete-modal">
            <div class="complete-head">
                <div class="complete-title">–ü—Ä–æ–µ–∫—Ç –∑–∞–≤–µ—Ä—à—ë–Ω?</div>
                <div class="complete-sub">–£–∫–∞–∂–∏—Ç–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –¥–∞—Ç—É, —á—Ç–æ–±—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –æ–±–Ω–æ–≤–∏—Ç—å —Ä–µ–ø—É—Ç–∞—Ü–∏—é.</div>
            </div>

            <div class="complete-status-flow">
                <div class="status-flow-label">–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ</div>
                <div class="status-flow">
                    <span class="status-pill-static" id="completeSourcePill">–í —Ä–∞–±–æ—Ç–µ</span>
                    <span class="status-flow-arrow">‚ûú</span>
                    <span class="status-pill-done">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</span>
                </div>
            </div>

            <div class="complete-date-card">
                <div class="complete-date-head-row">
                    <div>
                        <div class="complete-date-title">–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–∞—Ç–∞</div>
                        <div class="complete-date-sub">–í–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞—Å—á—ë—Ç –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</div>
                    </div>
                    <div class="complete-chip">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</div>
                </div>

                <div class="complete-inputs-col">
                    <div class="complete-input-group">
                        <label>–î–∞—Ç–∞ —Å–¥–∞—á–∏</label>
                        <div class="complete-input-wrap">
                            <svg class="complete-icon"><use href="#icon-calendar"/></svg>
                            <input type="date" id="completeDateInput" class="complete-input" onchange="updateCompleteHint()" oninput="updateCompleteHint()">
                        </div>
                    </div>
                    <div class="complete-input-group">
                        <label>–í—Ä–µ–º—è</label>
                        <div class="complete-input-wrap">
                            <svg class="complete-icon"><use href="#icon-clock"/></svg>
                            <input type="time" id="completeTimeInput" class="complete-input" step="300" onchange="updateCompleteHint()" oninput="updateCompleteHint()">
                        </div>
                    </div>
                </div>
            </div>

            <div class="complete-feedback success" id="completeFeedback">
                <div class="feedback-check" id="completeFeedbackIcon"><svg class="feedback-icon"><use href="#icon-check"/></svg></div>
                <div class="feedback-content">
                    <h4 id="completeHintTitle">–û—Ç–ª–∏—á–Ω–æ —Å—Ä–∞–±–æ—Ç–∞–Ω–æ!</h4>
                    <p id="completeHint">–°—Ä–æ–∫ —Å–æ–±–ª—é–¥—ë–Ω. –≠—Ç–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ —Å–∫–∞–∂–µ—Ç—Å—è –Ω–∞ –≤–∞—à–µ–π —Ä–µ–ø—É—Ç–∞—Ü–∏–∏.</p>
                </div>
            </div>

            <div class="complete-actions">
                <button class="btn-big btn-cancel" onclick="closeCompleteModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn-big btn-submit" onclick="confirmCompletion()">
                    –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
                </button>
            </div>
        </div>
    </div>
</div>

    <script src="js/app.js"></script>
      <script src="zen-core.js"></script>
    <script src="features.js"></script>

</body>
</html>
</body>
</html>
